<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GCAN ‚Äî Gest√£o Campos Airsoft Norte</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="navbar">
        <div class="container">
            <div class="brand">
                <h1>GCAN</h1>
                <p class="muted">Gest√£o Campos Airsoft Norte</p>
            </div>
            <div class="nav-right">
                <span id="sessionInfo" class="muted"></span>
                <div id="adminButtons">
                    <button id="btnCreate" class="btn ok" hidden>+ Jogo</button>
                    <button id="btnUsers" class="btn" hidden>üë• Moderadores</button>
                </div>
                <button id="btnAdmin" class="btn icon-btn">‚öôÔ∏è</button>
            </div>
        </div>
    </header>

    <main>
        <section class="hero">
            <div class="hero-content">
                <h1>üéØ Jogos de Airsoft ‚Äî Norte</h1>
                <p>Consulta jogos e inscreve-te nos melhores campos.</p>
                <button class="btn ok" onclick="document.getElementById('grid').scrollIntoView({behavior:'smooth'})">Ver Jogos</button>
            </div>
        </section>

        <section class="controls">
            <input type="text" id="search" placeholder="Pesquisar...">
            <div id="filters" class="filter-row">
                <button class="chip active" data-filter="all">Todos</button>
                <button class="chip" data-filter="mine" id="filterMine" hidden>Meus Jogos</button>
                <button class="chip" data-filter="open">Vagas Abertas</button>
            </div>
        </section>

        <div class="grid" id="grid"></div>
    </main>

    <footer class="footer">
        <p class="muted">GCAN ¬© <span id="year"></span> ‚Äî Sistema de Gest√£o de Airsoft</p>
    </footer>

    <div id="overlay" class="overlay" hidden></div>
    <div class="toasts"></div>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
      import { getDatabase, ref, set, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";
      import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

      const firebaseConfig = {
        apiKey: "AIzaSyAIJLAqrUzJiVJpEYgduSadMwp5iXjHRNM",
        authDomain: "gcan-80aa7.firebaseapp.com",
        databaseURL: "https://gcan-80aa7-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "gcan-80aa7",
        storageBucket: "gcan-80aa7.firebasestorage.app",
        messagingSenderId: "940824768444",
        appId: "1:940824768444:web:f143917b90b1654f8b85b9"
      };

      const app = initializeApp(firebaseConfig);
      const db = getDatabase(app);
      const auth = getAuth(app);

      window.db = db;
      window.dbRef = ref;
      window.dbSet = set;
      window.dbOnValue = onValue;
      window.fbAuth = auth;
      window.signIn = signInWithEmailAndPassword;
      window.signUp = createUserWithEmailAndPassword;
      window.signOutUser = signOut;
      window.onAuthChange = onAuthStateChanged;
    </script>
    <script src="app.js" defer></script>
</body>
</html>